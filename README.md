# Cyber Inspector - æ™ºèƒ½åˆ†å¸ƒå¼å·¡æ£€ç›‘æ§ç³»ç»Ÿ

[![Go Version](https://img.shields.io/badge/go-1.21%2B-blue.svg)](https://golang.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-2.0.0-orange.svg)](CHANGELOG)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

Cyber Inspector æ˜¯ä¸€ä¸ªåŸºäº Go è¯­è¨€å¼€å‘çš„æ™ºèƒ½åˆ†å¸ƒå¼å·¡æ£€ç›‘æ§ç³»ç»Ÿï¼Œé‡‡ç”¨ Master-Agent æ¶æ„ï¼Œæ”¯æŒå¤šèŠ‚ç‚¹å¹¶è¡Œå·¡æ£€ï¼Œé›†æˆ LLM å¤§æ¨¡å‹è¿›è¡Œæ™ºèƒ½åˆ†æå’Œå‘Šè­¦ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **åˆ†å¸ƒå¼æ¶æ„**ï¼šMaster-Agent æ¨¡å¼ï¼Œæ”¯æŒå¤šèŠ‚ç‚¹å¹¶è¡Œå·¡æ£€
- ğŸ¤– **æ™ºèƒ½åˆ†æ**ï¼šé›†æˆ LLM å¤§æ¨¡å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆè¯Šæ–­æŠ¥å‘Šå’Œè§£å†³æ–¹æ¡ˆ
- ğŸ“Š **å…¨æ–¹ä½ç›‘æ§**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€RAIDã€ç½‘ç»œç­‰æŒ‡æ ‡ç›‘æ§
- ğŸ”” **æ™ºèƒ½å‘Šè­¦**ï¼šæ”¯æŒé‚®ä»¶é€šçŸ¥ï¼Œ5 åˆ†é’Ÿå»é‡ï¼Œå¤šæ”¶ä»¶äººåˆ†å‘
- ğŸ” **å®‰å…¨è®¤è¯**ï¼šJWT ç”¨æˆ·è®¤è¯ï¼ŒåŒºåˆ†ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šç»ç’ƒæ‹Ÿæ€è®¾è®¡ï¼Œæ·±è‰²ä¸»é¢˜ï¼Œå“åº”å¼å¸ƒå±€
- ğŸ“ˆ **æ•°æ®å¯è§†åŒ–**ï¼šECharts å›¾è¡¨ï¼Œå®æ—¶ç›‘æ§å¤§å±
- âš¡ **é«˜æ€§èƒ½**ï¼šGo è¯­è¨€å¼€å‘ï¼Œæ”¯æŒé«˜å¹¶å‘å·¡æ£€

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                            â”‚
â”‚                   Web Dashboard                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Master æ§åˆ¶ä¸­å¿ƒ                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Web Server  â”‚  â”‚  Auth       â”‚  â”‚  Checker    â”‚        â”‚
â”‚  â”‚ (Gin)       â”‚  â”‚  Service    â”‚  â”‚  Service    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Agent èŠ‚ç‚¹é›†ç¾¤                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Agent 1 â”‚  â”‚ Agent 2 â”‚  â”‚ Agent 3 â”‚  â”‚  ...    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚                    MySQL Database                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Go 1.21+**ï¼šé«˜æ€§èƒ½ã€å¹¶å‘æ”¯æŒ
- **Gin**ï¼šè½»é‡çº§ Web æ¡†æ¶
- **GORM**ï¼šORM æ¡†æ¶ï¼Œæ”¯æŒ MySQL
- **JWT**ï¼šç”¨æˆ·è®¤è¯ä»¤ç‰Œ
- **Viper**ï¼šé…ç½®ç®¡ç†
- **Zap**ï¼šæ—¥å¿—è®°å½•

### å‰ç«¯æŠ€æœ¯
- **HTML5 + CSS3 + JavaScript (ES6+)**
- **Tailwind CSS**ï¼šåŸå­åŒ– CSS æ¡†æ¶
- **ECharts**ï¼šæ•°æ®å¯è§†åŒ–å›¾è¡¨
- **Font Awesome**ï¼šå›¾æ ‡åº“

## ğŸ“ é¡¹ç›®ç»“æ„

```
cyber-inspector/
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ master/          # Master ä¸»ç¨‹åº
â”‚   â””â”€â”€ agent/           # Agent ç¨‹åº
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ auth/            # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ handler/         # HTTP å¤„ç†å™¨
â”‚   â”œâ”€â”€ model/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ repository/      # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ service/         # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â””â”€â”€ mailer/          # é‚®ä»¶æœåŠ¡
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ static/          # é™æ€èµ„æº
â”‚   â””â”€â”€ templates/       # HTML æ¨¡æ¿
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.yaml      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ mysql/           # æ•°æ®åº“è„šæœ¬
â”œâ”€â”€ Makefile             # æ„å»ºè„šæœ¬
â”œâ”€â”€ Dockerfile.master    # Master Docker é•œåƒ
â”œâ”€â”€ Dockerfile.agent     # Agent Docker é•œåƒ
â”œâ”€â”€ docker-compose.yml   # Docker Compose é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- MySQL 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- Linux/Unix ç³»ç»Ÿï¼ˆæ¨èï¼‰

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/cyber-inspector.git
cd cyber-inspector
```

#### 2. å®‰è£…ä¾èµ–

```bash
# ä¸‹è½½ Go ä¾èµ–
go mod download

# æˆ–è€…ä½¿ç”¨ Makefile
make deps
```

#### 3. é…ç½®æ•°æ®åº“

åˆ›å»º MySQL æ•°æ®åº“å¹¶æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

```bash
mysql -u root -p < scripts/mysql/init/init.sql
```

#### 4. é…ç½®æ–‡ä»¶

ç¼–è¾‘é…ç½®æ–‡ä»¶ `configs/config.yaml`ï¼š

```yaml
# MySQL é…ç½®
mysql:
  dsn: "username:password@tcp(127.0.0.1:3306)/cyber_inspector?charset=utf8mb4&parseTime=True&loc=Local"

# é‚®ä»¶é…ç½®ï¼ˆå¯é€‰ï¼‰
mail:
  enabled: true
  host: "smtp.163.com"
  port: 994
  user: "your_email@163.com"
  pass: "your_password"
  to: "ops@company.com"
```

#### 5. ç¼–è¯‘é¡¹ç›®

```bash
# ç¼–è¯‘æ‰€æœ‰
make build

# æˆ–è€…åˆ†åˆ«ç¼–è¯‘
make build-master
make build-agent
```

#### 6. å¯åŠ¨æœåŠ¡

**Master ç«¯ï¼ˆä¸»æ§æœåŠ¡å™¨ï¼‰ï¼š**

```bash
# ä½¿ç”¨ Makefile
make run-master

# æˆ–è€…ç›´æ¥è¿è¡Œ
./bin/cyber-inspector --config=configs/config.yaml
```

**Agent ç«¯ï¼ˆè¢«ç›‘æ§æœåŠ¡å™¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹ï¼‰ï¼š**

```bash
# ä½¿ç”¨ Makefile
make run-agent

# æˆ–è€…ç›´æ¥è¿è¡Œ
./bin/cyber-agent --port=8083
```

#### 7. è®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8080`

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
- ç”¨æˆ·åï¼šadmin
- å¯†ç ï¼šadmin123

> **âš ï¸ æ³¨æ„**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç 

### Docker éƒ¨ç½²

#### 1. æ„å»ºé•œåƒ

```bash
make docker-build
```

#### 2. å¯åŠ¨æœåŠ¡

```bash
make docker-run
```

#### 3. æŸ¥çœ‹æ—¥å¿—

```bash
docker-compose logs -f
```

#### 4. åœæ­¢æœåŠ¡

```bash
make docker-stop
```

## ğŸ“ API æ¥å£

### è®¤è¯æ¥å£

```http
POST   /api/auth/login           # ç”¨æˆ·ç™»å½•
POST   /api/auth/logout          # ç”¨æˆ·ç™»å‡º
```

### èŠ‚ç‚¹ç®¡ç†

```http
GET    /api/agents               # è·å–èŠ‚ç‚¹åˆ—è¡¨
POST   /api/agents               # åˆ›å»ºèŠ‚ç‚¹
PUT    /api/agents/:id           # æ›´æ–°èŠ‚ç‚¹
DELETE /api/agents/:id           # åˆ é™¤èŠ‚ç‚¹
PUT    /api/agents/:id/interval  # æ›´æ–°å·¡æ£€é—´éš”
```

### å·¡æ£€æ¥å£

```http
POST   /api/trigger              # è§¦å‘å·¡æ£€
GET    /api/status               # è·å–å·¡æ£€çŠ¶æ€
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯¦è§£

```yaml
# åº”ç”¨é…ç½®
app:
  name: "Cyber Inspector"           # åº”ç”¨åç§°
  version: "2.0.0"                  # ç‰ˆæœ¬å·
  secret: "your-secret-key"         # å¯†é’¥
  env: "production"                 # ç¯å¢ƒ

# æ•°æ®åº“é…ç½®
mysql:
  dsn: "user:pass@tcp(host:port)/db" # è¿æ¥å­—ç¬¦ä¸²
  max_open_conns: 50                 # æœ€å¤§è¿æ¥æ•°
  max_idle_conns: 10                 # ç©ºé—²è¿æ¥æ•°

# æœåŠ¡å™¨é…ç½®
server:
  listen: ":8080"                    # ç›‘å¬åœ°å€
  read_timeout: "10s"                # è¯»è¶…æ—¶
  write_timeout: "10s"               # å†™è¶…æ—¶

# å·¡æ£€é…ç½®
check:
  interval: "5m"                     # å·¡æ£€é—´éš”
  timeout: "30s"                     # è¯·æ±‚è¶…æ—¶
  max_concurrent: 10                 # æœ€å¤§å¹¶å‘æ•°
  retry_times: 3                     # é‡è¯•æ¬¡æ•°

# å‘Šè­¦é…ç½®
alert:
  enabled: true                      # æ˜¯å¦å¯ç”¨
  cooldown: "5m"                     # å†·å´æ—¶é—´
  threshold:
    cpu: 85                          # CPU é˜ˆå€¼
    memory: 90                       # å†…å­˜é˜ˆå€¼
    disk: 90                         # ç£ç›˜é˜ˆå€¼
```

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šé¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **æ•°æ®åº“å®‰å…¨**ï¼šé™åˆ¶æ•°æ®åº“è®¿é—®æƒé™ï¼Œå®šæœŸå¤‡ä»½
3. **é˜²ç«å¢™é…ç½®**ï¼šåªå¼€æ”¾å¿…è¦çš„ç«¯å£ï¼ˆ8080, 8083ï¼‰
4. **æ—¥å¿—å®¡è®¡**ï¼šå®šæœŸæ£€æŸ¥ç™»å½•å’Œæ“ä½œæ—¥å¿—
5. **HTTPS å¯ç”¨**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨ SSL/TLS

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹ç›‘æ§æŒ‡æ ‡ï¼š

- ğŸ” **CPU**ï¼šä½¿ç”¨ç‡ã€è´Ÿè½½
- ğŸ’¾ **å†…å­˜**ï¼šä½¿ç”¨ç‡
- ğŸ’½ **ç£ç›˜**ï¼šä½¿ç”¨ç‡ã€RAID çŠ¶æ€
- ğŸŒ **ç½‘ç»œ**ï¼šç½‘å…³ä¸¢åŒ…ç‡
- ğŸ“ **æ—¥å¿—**ï¼šç³»ç»Ÿé”™è¯¯æ—¥å¿—ï¼ˆ1å°æ—¶å†…ï¼‰
- ğŸ”— **è¿æ¥**ï¼šTCPè¿æ¥æ•°

## ğŸ› å¸¸è§é—®é¢˜

### Q: Agent æ— æ³•è¿æ¥ï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹äº‹é¡¹ï¼š
- Agent æœåŠ¡æ˜¯å¦å¯åŠ¨
- é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œç«¯å£
- ç½‘ç»œæ˜¯å¦è¿é€š
- URL é…ç½®æ˜¯å¦æ­£ç¡®

### Q: é‚®ä»¶å‘Šè­¦ä¸å‘é€ï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š
- SMTP æœåŠ¡å™¨é…ç½®
- é‚®ç®±å¯†ç /æˆæƒç 
- æ”¶ä»¶äººåœ°å€æ ¼å¼

### Q: å¦‚ä½•æ·»åŠ å¤šä¸ªç›‘æ§èŠ‚ç‚¹ï¼Ÿ

A: åœ¨æ¯ä¸ªéœ€è¦ç›‘æ§çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½² Agentï¼š

```bash
# æœåŠ¡å™¨1
./bin/cyber-agent --port=8083

# æœåŠ¡å™¨2
./bin/cyber-agent --port=8084

# åœ¨ Web ç•Œé¢ä¸­æ·»åŠ èŠ‚ç‚¹
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Gin](https://github.com/gin-gonic/gin) - Web æ¡†æ¶
- [GORM](https://gorm.io/) - ORM æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [ECharts](https://echarts.apache.org/) - å›¾è¡¨åº“

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://github.com/yourusername/cyber-inspector](https://github.com/yourusername/cyber-inspector)
- é‚®ç®±ï¼šyour.email@example.com

---

**Made with â¤ï¸ by Cyber Inspector Team**
